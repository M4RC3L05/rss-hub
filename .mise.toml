[settings]
experimental = true
pipx_uvx = true

[tools]
deno = "2.0.2"
sqlite = "3.46.0"
uv = "0.4.24"
"pipx:sqlfluff/sqlfluff" = "3.2.4"

[tasks."check:format"]
run = """
#!/usr/bin/env sh

set -ex

deno fmt --check
"""

[tasks."check:lint"]
run = """
#!/usr/bin/env sh

set -ex

deno lint
deno check --no-lock $(find . -type f | grep -E "\\.ts$|\\.tsx$" | grep -v "node_modules/")
sqlfluff lint $(find . -type f | grep -E "\\.sql$" | grep -v "node_modules/")
"""
